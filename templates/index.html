<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Performance Prediction</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/static/main.js"></script>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="container">
        <h1>Student Performance Prediction</h1>
        
        <!-- Input Form -->
        <div class="form-section">
            <h2>Enter Student Details</h2>
            <form id="prediction-form">
                <label for="school">School:</label>
                <select id="school" name="school">
                    <option value="GP">GP</option>
                    <option value="MS">MS</option>
                </select>
                
                <label for="sex">Sex:</label>
                <select id="sex" name="sex">
                    <option value="F">Female</option>
                    <option value="M">Male</option>
                </select>
                
                <label for="age">Age:</label>
                <input type="number" id="age" name="age" min="15" max="22" required>
                
                <label for="address">Address:</label>
                <select id="address" name="address">
                    <option value="U">Urban</option>
                    <option value="R">Rural</option>
                </select>
                
                <label for="famsize">Family Size:</label>
                <select id="famsize" name="famsize">
                    <option value="LE3">Less or Equal to 3</option>
                    <option value="GT3">Greater than 3</option>
                </select>
                
                <label for="Pstatus">Parent's Cohabitation Status:</label>
                <select id="Pstatus" name="Pstatus">
                    <option value="T">Together</option>
                    <option value="A">Apart</option>
                </select>
                
                <label for="Medu">Mother's Education:</label>
                <select id="Medu" name="Medu">
                    <option value="0">None</option>
                    <option value="1">Primary (4th grade)</option>
                    <option value="2">5th to 9th grade</option>
                    <option value="3">Secondary</option>
                    <option value="4">Higher</option>
                </select>
                
                <label for="Fedu">Father's Education:</label>
                <select id="Fedu" name="Fedu">
                    <option value="0">None</option>
                    <option value="1">Primary (4th grade)</option>
                    <option value="2">5th to 9th grade</option>
                    <option value="3">Secondary</option>
                    <option value="4">Higher</option>
                </select>
                
                <label for="Mjob">Mother's Job:</label>
                <select id="Mjob" name="Mjob">
                    <option value="at_home">At Home</option>
                    <option value="health">Health</option>
                    <option value="other">Other</option>
                    <option value="services">Services</option>
                    <option value="teacher">Teacher</option>
                </select>
                
                <label for="Fjob">Father's Job:</label>
                <select id="Fjob" name="Fjob">
                    <option value="at_home">At Home</option>
                    <option value="health">Health</option>
                    <option value="other">Other</option>
                    <option value="services">Services</option>
                    <option value="teacher">Teacher</option>
                </select>
                
                <label for="reason">Reason for Choosing School:</label>
                <select id="reason" name="reason">
                    <option value="course">Course Preference</option>
                    <option value="home">Close to Home</option>
                    <option value="reputation">School Reputation</option>
                    <option value="other">Other</option>
                </select>
                
                <label for="guardian">Guardian:</label>
                <select id="guardian" name="guardian">
                    <option value="mother">Mother</option>
                    <option value="father">Father</option>
                    <option value="other">Other</option>
                </select>
                
                <label for="traveltime">Travel Time:</label>
                <select id="traveltime" name="traveltime">
                    <option value="<15 min"><15 min</option>
                    <option value="15-30 min">15-30 min</option>
                    <option value="30 min-1 hour">30 min-1 hour</option>
                    <option value=">1 hour">>1 hour</option>
                </select>
                
                <label for="studytime">Study Time:</label>
                <select id="studytime" name="studytime">
                    <option value="<2 hours"><2 hours</option>
                    <option value="2-5 hours">2-5 hours</option>
                    <option value="5-10 hours">5-10 hours</option>
                    <option value=">10 hours">>10 hours</option>
                </select>
                
                <label for="failures">Number of Past Failures:</label>
                <select id="failures" name="failures">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3+">3+</option>
                </select>
                
                <label for="schoolsup">Extra Educational Support:</label>
                <select id="schoolsup" name="schoolsup">
                    <option value="yes">Yes</option>
                    <option value="no">No</option>
                </select>
                
                <label for="famsup">Family Educational Support:</label>
                <select id="famsup" name="famsup">
                    <option value="yes">Yes</option>
                    <option value="no">No</option>
                </select>
                
                <label for="paid">Paid Classes:</label>
                <select id="paid" name="paid">
                    <option value="yes">Yes</option>
                    <option value="no">No</option>
                </select>
                
                <label for="activities">Extra-Curricular Activities:</label>
                <select id="activities" name="activities">
                    <option value="yes">Yes</option>
                    <option value="no">No</option>
                </select>
                
                <label for="nursery">Attended Nursery School:</label>
                <select id="nursery" name="nursery">
                    <option value="yes">Yes</option>
                    <option value="no">No</option>
                </select>
                
                <label for="higher">Wants Higher Education:</label>
                <select id="higher" name="higher">
                    <option value="yes">Yes</option>
                    <option value="no">No</option>
                </select>
                
                <label for="internet">Internet Access at Home:</label>
                <select id="internet" name="internet">
                    <option value="yes">Yes</option>
                    <option value="no">No</option>
                </select>
                
                <label for="romantic">Romantic Relationship:</label>
                <select id="romantic" name="romantic">
                    <option value="yes">Yes</option>
                    <option value="no">No</option>
                </select>
                
                <label for="famrel">Family Relationship Quality:</label>
                <select id="famrel" name="famrel">
                    <option value="Very Bad">Very Bad</option>
                    <option value="Bad">Bad</option>
                    <option value="Fair">Fair</option>
                    <option value="Good">Good</option>
                    <option value="Very Good">Very Good</option>
                </select>
                
                <label for="freetime">Free Time:</label>
                <select id="freetime" name="freetime">
                    <option value="Very Low">Very Low</option>
                    <option value="Low">Low</option>
                    <option value="Moderate">Moderate</option>
                    <option value="High">High</option>
                    <option value="Very High">Very High</option>
                </select>
                
                <label for="goout">Going Out:</label>
                <select id="goout" name="goout">
                    <option value="Very Low">Very Low</option>
                    <option value="Low">Low</option>
                    <option value="Moderate">Moderate</option>
                    <option value="High">High</option>
                    <option value="Very High">Very High</option>
                </select>
                
                <label for="Dalc">Workday Alcohol Consumption:</label>
                <select id="Dalc" name="Dalc">
                    <option value="Very Low">Very Low</option>
                    <option value="Low">Low</option>
                    <option value="Moderate">Moderate</option>
                    <option value="High">High</option>
                    <option value="Very High">Very High</option>
                </select>
                
                <label for="Walc">Weekend Alcohol Consumption:</label>
                <select id="Walc" name="Walc">
                    <option value="Very Low">Very Low</option>
                    <option value="Low">Low</option>
                    <option value="Moderate">Moderate</option>
                    <option value="High">High</option>
                    <option value="Very High">Very High</option>
                </select>
                
                <label for="health">Health Status:</label>
                <select id="health" name="health">
                    <option value="Very Bad">Very Bad</option>
                    <option value="Bad">Bad</option>
                    <option value="Fair">Fair</option>
                    <option value="Good">Good</option>
                    <option value="Very Good">Very Good</option>
                </select>
                
                <label for="absences">Absences:</label>
                <input type="number" id="absences" name="absences" min="0" required>
                
                <label for="G1">First Term Grade (0-20):</label>
                <input type="number" id="G1" name="G1" min="0" max="20" required>
                
                <label for="G2">Second Term Grade (0-20):</label>
                <input type="number" id="G2" name="G2" min="0" max="20" required>
                
                <button type="submit">Predict</button>
            </form>
            <div id="error-message" class="error"></div>
        </div>
        
        <!-- Prediction Results -->
        <div class="result-section" id="prediction-result"></div>
        
        <!-- Model Performance Charts -->
        <div class="chart-section">
            <h2>Model Performance</h2>
            <div class="chart-container">
                <canvas id="metrics-chart"></canvas>
                <canvas id="feature-importance-chart"></canvas>
            </div>
        </div>
        
        <!-- Trend and Cluster Charts -->
        <div class="chart-section">
            <h2>Additional Visualizations</h2>
            <div class="chart-container">
                <canvas id="trend-chart"></canvas>
                <canvas id="cluster-pie-chart"></canvas>
            </div>
        </div>
        
        <!-- Cluster Analysis -->
        <div class="cluster-section">
            <h2>Cluster Analysis</h2>
            <h3>Cluster Characteristics</h3>
            <table>
                <thead>
                    <tr>
                        <th>Cluster</th>
                        <th>Age</th>
                        <th>Study Time</th>
                        <th>Failures</th>
                        <th>Absences</th>
                        <th>G1</th>
                        <th>G2</th>
                        <th>Average Grade</th>
                    </tr>
                </thead>
                <tbody id="cluster-table-body"></tbody>
            </table>
            <h3>Cluster Visualization</h3>
            <canvas id="cluster-chart"></canvas>
        </div>
    </div>
</body>
</html>